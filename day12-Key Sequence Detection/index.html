<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>12.Key Sequence Detection</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link rel="stylesheet" href="style.css"></head>
    <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
<body>
   <div id="container" class="container">
     <p id="typeIn"></p>
   </div>
<script>
//生成函数
    cornify_add();
//生成密码
    var code = "yami";
    var typein = [];
    var lasttypein = [];
    var timeHandler;
//监听输入字符串
    var oP = document.getElementById("typeIn");
    window.onkeydown = function(e){
        if(timeHandler){
        clearTimeout(timeHandler);
        }
        return;
    }
    window.onkeypress = function(e){
        typein.push(e.key);
        oP.innerHTML = typein.join('');
        if(typein.join('') === code){
           cornify_add();
        }
        lasttypein = typein;
        timeHandler = setTimeout(function(){
           if(lasttypein === typein){
            oP.innerHTML = '';
            typein = [];
            lasttypein = [];
           }
        },3000);
        
    };

</script>

</body>
</html>